{"version":3,"sources":["utils/apiService.js","components/MovieDetailsPage/styles.module.scss","components/Cast/Cast.js","components/Reviews/Reviews.js","components/MovieDetailsPage/MovieDetailsPage.js"],"names":["axios","defaults","baseURL","apiKey","popularMovies","url","get","then","results","data","catch","error","console","log","searchMovies","searchQuery","encodeURIComponent","response","movieDatails","movieId","endpoint","module","exports","Cast","castList","className","Reviews","reviewsList","MovieDetailsPage","history","useHistory","useParams","useRouteMatch","useState","movieAbout","setMovieAbout","setCastList","setReviewsList","useEffect","poster_path","title","vote_average","overview","genres","img","userScore","genresList","reduce","genre","name","result","cast","length","map","id","profile_path","character","src","alt","width","height","author_details","content","username","avatar","avatar_path","styles","backBtn","type","onClick","push","movieContainer","imgContainer","aboutMovieContainer","about","info","infoLinks","to","movieInfoContainer","path"],"mappings":"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","file":"static/js/4.135fc3e4.chunk.js","sourcesContent":["import axios from 'axios';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst apiKey = 'e3b066e22b25d00eb414002518baafe2';\n\nconst popularMovies = () => {\n  const url = `/trending/movie/week?api_key=${apiKey}`;\n  return axios\n    .get(url)\n    .then((results) => results.data.results)\n    .catch((error) => console.log(error));\n};\n\nconst searchMovies = (searchQuery) => {\n  const url = `search/movie?query=${encodeURIComponent(searchQuery)}&api_key=${apiKey}`;\n  return axios\n    .get(url)\n    .then((response) => response.data.results)\n    .catch((error) => console.log(error));\n};\n\nconst movieDatails = (movieId, endpoint) => {\n  let url = `/movie/${movieId}`;\n  switch (endpoint) {\n    case 'cast':\n      url += `/credits?api_key=${apiKey}`;\n      break;\n    case 'reviews':\n      url += `/reviews?api_key=${apiKey}`;\n      break;\n    default:\n      url += `?api_key=${apiKey}`;\n      break;\n  }\n  //console.log(url);\n  return axios\n    .get(url)\n    .then((results) => results.data)\n    .catch((error) => console.log(error));\n};\n\nexport { popularMovies, searchMovies, movieDatails };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backBtn\":\"styles_backBtn__2hNOP\",\"movieContainer\":\"styles_movieContainer__3U66D\",\"imgContainer\":\"styles_imgContainer__1-e2-\",\"movieInfoContainer\":\"styles_movieInfoContainer__jcudM\",\"infoLinks\":\"styles_infoLinks__3yIOU\"};","import './styles.scss';\n\nconst Cast = ({ castList }) => {\n  return (\n    <div>\n      <ul className=\"castList\">{castList}</ul>\n    </div>\n  );\n};\n\nexport default Cast;\n","import './styles.scss';\n\nconst Reviews = ({ reviewsList }) => {\n  return (\n    <div>\n      <ul className=\"reviewList\">{reviewsList}</ul>\n    </div>\n  );\n};\n\nexport default Reviews;\n","import { useState, useEffect } from 'react';\nimport {\n  useHistory,\n  useParams,\n  useRouteMatch,\n  NavLink,\n  Switch,\n  Route,\n} from 'react-router-dom';\nimport Cast from '../Cast/Cast';\nimport Reviews from '../Reviews/Reviews';\nimport { movieDatails } from '../../utils/apiService.js';\nimport styles from './styles.module.scss';\n\nconst MovieDetailsPage = () => {\n  const history = useHistory();\n  const movieId = useParams().movieId;\n  const { url } = useRouteMatch();\n  const [movieAbout, setMovieAbout] = useState('');\n  const [castList, setCastList] = useState('');\n  const [reviewsList, setReviewsList] = useState('');\n\n  useEffect(() => {\n    movieDatails(movieId).then(({ poster_path, title, vote_average, overview, genres }) => {\n      const img = `https://image.tmdb.org/t/p/w500${poster_path}`;\n      const userScore = vote_average * 10;\n      const genresList = genres.reduce((genre, { name }) => `${genre} ${name}`, '');\n      setMovieAbout({\n        img,\n        title,\n        userScore,\n        overview,\n        genresList,\n      });\n    });\n    movieDatails(movieId, 'cast').then((data) => {\n      const result = data.cast;\n      if (result.length === 0) {\n        setCastList(<p>There are no information about cast for this movie...</p>);\n        return;\n      }\n      setCastList(\n        result.map(({ id, name, profile_path, character }) => {\n          let img;\n          if (profile_path) {\n            img = `https://image.tmdb.org/t/p/w200${profile_path}`;\n          } else {\n            img = 'https://exceleratelabs.com/wp-content/uploads/2017/08/default-user.png';\n          }\n          return (\n            <li key={id}>\n              <img src={img} alt={name} width=\"200\" height=\"300\" />\n              <p className=\"actorName\">{name}</p>\n              <p className=\"actorCharacter\">Character: {character}</p>\n            </li>\n          );\n        }),\n      );\n    });\n\n    movieDatails(movieId, 'reviews').then((data) => {\n      const result = data.results;\n      if (result.length === 0) {\n        setReviewsList(<p>There are no reviews for this movie...</p>);\n        return;\n      }\n      setReviewsList(\n        result.map(({ id, author_details, content }) => {\n          const name = author_details.username;\n          const avatar = author_details.avatar_path;\n          let img;\n          if (avatar) {\n            img = `https://image.tmdb.org/t/p/w500${avatar}`;\n          } else {\n            img = 'https://exceleratelabs.com/wp-content/uploads/2017/08/default-user.png';\n          }\n          return (\n            <li key={id}>\n              <img src={img} alt=\"\" width=\"50\" />\n              <span className=\"userName\">{name}</span>\n              <p className=\"reviewContent\">{content}</p>\n            </li>\n          );\n        }),\n      );\n    });\n  }, [movieId]);\n\n  return (\n    <>\n      <div>\n        <button\n          className={styles.backBtn}\n          type=\"button\"\n          onClick={() => history.push('/')}\n        >\n          &#129044; Go back\n        </button>\n      </div>\n      <div className={styles.movieContainer}>\n        <div className={styles.imgContainer}>\n          <img src={movieAbout.img} alt={movieAbout.title} width=\"250\" />\n        </div>\n        <div className={styles.aboutMovieContainer}>\n          <h1>{movieAbout.title}</h1>\n          <p className={styles.userScore}>User score: {`${movieAbout.userScore}%`}</p>\n          <h2>About</h2>\n          <p className={styles.about}>{movieAbout.overview}</p>\n          <h3>Genres</h3>\n          <p className={styles.genres}>{movieAbout.genresList}</p>\n          <div className={styles.info}>\n            <h4>Additional information</h4>\n            <ul className={styles.infoLinks}>\n              <li>\n                <NavLink to={`${url}/cast`}>Cast</NavLink>\n              </li>\n              <li>\n                <NavLink to={`${url}/reviews`}>Reviews</NavLink>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      <div className={styles.movieInfoContainer}>\n        <Switch>\n          <Route path={`${url}/cast`}>\n            <Cast castList={castList} />\n          </Route>\n          <Route path={`${url}/reviews`}>\n            <Reviews reviewsList={reviewsList}/>\n          </Route>\n        </Switch>\n      </div>\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n"],"sourceRoot":""}