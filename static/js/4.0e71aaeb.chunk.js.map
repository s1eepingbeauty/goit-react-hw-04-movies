{"version":3,"sources":["utils/CONSTANTS.js","utils/apiService.js","components/MovieDetailsPage/styles.module.scss","components/Cast/Cast.js","components/Reviews/Reviews.js","components/MovieDetailsPage/MovieDetailsPage.js"],"names":["PAGES","movie","credits","reviews","REQUEST_KEYWORDS","cast","IMAGES_PLACEHOLDER_URL","baseImgURL","defaultImgURL","axios","defaults","baseURL","params","popularMovies","get","then","results","data","catch","error","console","log","searchMovies","searchQuery","url","encodeURIComponent","response","getMovieDetailsEndpoint","movieId","endpoint","movieDetails","module","exports","Cast","castList","className","Reviews","reviewsList","MovieDetailsPage","history","useHistory","useParams","useRouteMatch","useState","movieAbout","setMovieAbout","setCastList","setReviewsList","useEffect","poster_path","title","vote_average","overview","genres","img","userScore","genresList","reduce","genre","name","result","length","map","id","profile_path","character","src","alt","width","height","author_details","content","username","avatar","slice","prepareAvatarURL","avatar_path","styles","backBtn","type","onClick","push","movieContainer","imgContainer","aboutMovieContainer","about","info","infoLinks","to","movieInfoContainer","path"],"mappings":"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","file":"static/js/4.0e71aaeb.chunk.js","sourcesContent":["\r\nconst PAGES = {\r\n  movie: '/movie/',\r\n  credits: '/credits',\r\n  reviews: '/reviews',\r\n}\r\n\r\nconst REQUEST_KEYWORDS = {\r\n    cast: 'cast',\r\n    reviews: 'reviews',\r\n}\r\n\r\nconst IMAGES_PLACEHOLDER_URL = {\r\n    baseImgURL: 'https://image.tmdb.org/t/p/w500',\r\n    defaultImgURL: 'https://exceleratelabs.com/wp-content/uploads/2017/08/default-user.png',\r\n}\r\n\r\nexport { PAGES, REQUEST_KEYWORDS, IMAGES_PLACEHOLDER_URL };","import axios from 'axios';\nimport { PAGES, REQUEST_KEYWORDS} from './CONSTANTS';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = {\n  'api_key': 'e3b066e22b25d00eb414002518baafe2',\n};\n\nconst popularMovies = () => {\n  const url = `/trending/movie/week`;\n  return axios\n    .get(url)\n    .then((results) => results.data.results)\n    .catch((error) => console.log(error));\n};\n\nconst searchMovies = (searchQuery) => {\n  const url = `search/movie?query=${encodeURIComponent(searchQuery)}`;\n  return axios\n    .get(url)\n    .then((response) => response.data.results)\n    .catch((error) => console.log(error));\n};\n\nconst getMovieDetailsEndpoint = (movieId, endpoint) => {\n  switch (endpoint) {\n    case REQUEST_KEYWORDS.cast:\n      return `${PAGES.movie}${movieId}${PAGES.credits}`;\n    case REQUEST_KEYWORDS.reviews:\n      return `${PAGES.movie}${movieId}${PAGES.reviews}`;\n    default:\n      return `${PAGES.movie}${movieId}`;\n  }\n}\n\nconst movieDetails = (url) => {\n  return axios\n    .get(url)\n    .then((results) => results.data)\n    .catch((error) => console.log(error));\n};\n\nexport { popularMovies, searchMovies, getMovieDetailsEndpoint, movieDetails };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backBtn\":\"styles_backBtn__2hNOP\",\"movieContainer\":\"styles_movieContainer__3U66D\",\"imgContainer\":\"styles_imgContainer__1-e2-\",\"movieInfoContainer\":\"styles_movieInfoContainer__jcudM\",\"infoLinks\":\"styles_infoLinks__3yIOU\"};","import './styles.scss';\n\nconst Cast = ({ castList }) => {\n  return (\n    <div>\n      <ul className=\"castList\">{castList}</ul>\n    </div>\n  );\n};\n\nexport default Cast;\n","import './styles.scss';\n\nconst Reviews = ({ reviewsList }) => {\n  return (\n    <div>\n      <ul className=\"reviewList\">{reviewsList}</ul>\n    </div>\n  );\n};\n\nexport default Reviews;\n","import { useState, useEffect } from 'react';\nimport {\n  useHistory,\n  useParams,\n  useRouteMatch,\n  NavLink,\n  Switch,\n  Route,\n} from 'react-router-dom';\nimport Cast from '../Cast/Cast';\nimport Reviews from '../Reviews/Reviews';\nimport { REQUEST_KEYWORDS, IMAGES_PLACEHOLDER_URL } from '../../utils/CONSTANTS';\nimport { getMovieDetailsEndpoint, movieDetails } from '../../utils/apiService.js';\nimport styles from './styles.module.scss';\n\nconst MovieDetailsPage = () => {\n  const history = useHistory();\n  const movieId = useParams().movieId;\n  const { url } = useRouteMatch();\n  const [movieAbout, setMovieAbout] = useState('');\n  const [castList, setCastList] = useState('');\n  const [reviewsList, setReviewsList] = useState('');\n\n  useEffect(() => {\n    movieDetails(getMovieDetailsEndpoint(movieId)).then(({ poster_path, title, vote_average, overview, genres }) => {\n      const img = `${IMAGES_PLACEHOLDER_URL.baseImgURL}${poster_path}`;\n      const userScore = vote_average * 10;\n      const genresList = genres.reduce((genre, { name }) => `${genre} ${name}`, '');\n      setMovieAbout({\n        img,\n        title,\n        userScore,\n        overview,\n        genresList,\n      });\n    });\n    movieDetails(getMovieDetailsEndpoint(movieId, REQUEST_KEYWORDS.cast)).then((data) => {\n      const result = data.cast;\n      if (result.length === 0) {\n        setCastList(<p>There are no information about cast for this movie...</p>);\n        return;\n      }\n      setCastList(\n        result.map(({ id, name, profile_path, character }) => {\n          let img;\n          if (profile_path) {\n            img = IMAGES_PLACEHOLDER_URL.baseImgURL + profile_path;\n          } else {\n            img = IMAGES_PLACEHOLDER_URL.defaultImgURL;\n          }\n          return (\n            <li key={id}>\n              <img src={img} alt={name} width=\"200\" height=\"300\" />\n              <p className=\"actorName\">{name}</p>\n              <p className=\"actorCharacter\">Character: {character}</p>\n            </li>\n          );\n        }),\n      );\n    });\n\n    movieDetails(getMovieDetailsEndpoint(movieId, REQUEST_KEYWORDS.reviews)).then((data) => {\n      const result = data.results;\n      if (result.length === 0) {\n        setReviewsList(<p>There are no reviews for this movie...</p>);\n        return;\n      }\n\n      const prepareAvatarURL = (avatar) => {\n          if (!avatar) {\n            return IMAGES_PLACEHOLDER_URL.defaultImgURL;\n          }\n          else if (avatar.slice(1, 5) === 'http') {\n            return avatar.slice(1, avatar.length);\n          }\n          else {\n            return IMAGES_PLACEHOLDER_URL.baseImgURL + avatar;\n          }\n      }\n\n      setReviewsList(\n        result.map(({ id, author_details, content }) => {\n          const name = author_details.username;\n          const avatar = author_details.avatar_path;\n          const img = prepareAvatarURL(avatar);\n          return (\n            <li key={id}>\n              <img src={img} alt=\"\" width=\"50\" />\n              <span className=\"userName\">{name}</span>\n              <p className=\"reviewContent\">{content}</p>\n            </li>\n          );\n        }),\n      );\n    });\n  }, [movieId]);\n\n  return (\n    <>\n      <div>\n        <button\n          className={styles.backBtn}\n          type=\"button\"\n          onClick={() => history.push('/')}\n        >\n          &#129044; Go back\n        </button>\n      </div>\n      <div className={styles.movieContainer}>\n        <div className={styles.imgContainer}>\n          <img src={movieAbout.img} alt={movieAbout.title} width=\"250\" />\n        </div>\n        <div className={styles.aboutMovieContainer}>\n          <h1>{movieAbout.title}</h1>\n          <p className={styles.userScore}>User score: {`${movieAbout.userScore}%`}</p>\n          <h2>About</h2>\n          <p className={styles.about}>{movieAbout.overview}</p>\n          <h3>Genres</h3>\n          <p className={styles.genres}>{movieAbout.genresList}</p>\n          <div className={styles.info}>\n            <h4>Additional information</h4>\n            <ul className={styles.infoLinks}>\n              <li>\n                <NavLink to={`${url}/cast`}>Cast</NavLink>\n              </li>\n              <li>\n                <NavLink to={`${url}/reviews`}>Reviews</NavLink>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      <div className={styles.movieInfoContainer}>\n        <Switch>\n          <Route path={`${url}/cast`}>\n            <Cast castList={castList} />\n          </Route>\n          <Route path={`${url}/reviews`}>\n            <Reviews reviewsList={reviewsList}/>\n          </Route>\n        </Switch>\n      </div>\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n"],"sourceRoot":""}