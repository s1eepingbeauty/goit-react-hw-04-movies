(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{31:function(e,t,c){"use strict";c.d(t,"b",(function(){return n})),c.d(t,"c",(function(){return a})),c.d(t,"a",(function(){return s}));var n={movie:"/movie/",credits:"/credits",reviews:"/reviews"},a={cast:"cast",reviews:"reviews"},s={baseImgURL:"https://image.tmdb.org/t/p/w500",defaultImgURL:"https://exceleratelabs.com/wp-content/uploads/2017/08/default-user.png"}},32:function(e,t,c){"use strict";c.d(t,"c",(function(){return i})),c.d(t,"d",(function(){return r})),c.d(t,"a",(function(){return o})),c.d(t,"b",(function(){return u}));var n=c(33),a=c.n(n),s=c(31);a.a.defaults.baseURL="https://api.themoviedb.org/3",a.a.defaults.params={api_key:"e3b066e22b25d00eb414002518baafe2"};var i=function(){return a.a.get("/trending/movie/week").then((function(e){return e.data.results})).catch((function(e){return console.log(e)}))},r=function(e){var t="search/movie?query=".concat(encodeURIComponent(e));return a.a.get(t).then((function(e){return e.data.results})).catch((function(e){return console.log(e)}))},o=function(e,t){switch(t){case s.c.cast:return"".concat(s.b.movie).concat(e).concat(s.b.credits);case s.c.reviews:return"".concat(s.b.movie).concat(e).concat(s.b.reviews);default:return"".concat(s.b.movie).concat(e)}},u=function(e){return a.a.get(e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){e.exports={backBtn:"styles_backBtn__2hNOP",movieContainer:"styles_movieContainer__3U66D",imgContainer:"styles_imgContainer__1-e2-",movieInfoContainer:"styles_movieInfoContainer__jcudM",infoLinks:"styles_infoLinks__3yIOU"}},68:function(e,t,c){"use strict";c.r(t);var n=c(34),a=c(0),s=c(2),i=c(8),r=(c(62),c(1)),o=function(e){var t=e.castList;return Object(r.jsx)("div",{children:Object(r.jsx)("ul",{className:"castList",children:t})})},u=(c(63),function(e){var t=e.reviewsList;return Object(r.jsx)("div",{children:Object(r.jsx)("ul",{className:"reviewList",children:t})})}),l=c(31),j=c(32),b=c(64),h=c.n(b);t.default=function(){var e=Object(s.f)(),t=Object(s.h)().movieId,c=Object(s.i)().url,b=Object(a.useState)(""),d=Object(n.a)(b,2),v=d[0],m=d[1],f=Object(a.useState)(""),O=Object(n.a)(f,2),x=O[0],g=O[1],p=Object(a.useState)(""),w=Object(n.a)(p,2),_=w[0],L=w[1];return Object(a.useEffect)((function(){Object(j.b)(Object(j.a)(t)).then((function(e){var t=e.poster_path,c=e.title,n=e.vote_average,a=e.overview,s=e.genres,i="".concat(l.a.baseImgURL).concat(t),r=10*n,o=s.reduce((function(e,t){var c=t.name;return"".concat(e," ").concat(c)}),"");m({img:i,title:c,userScore:r,overview:a,genresList:o})})),Object(j.b)(Object(j.a)(t,l.c.cast)).then((function(e){var t=e.cast;0!==t.length?g(t.map((function(e){var t,c=e.id,n=e.name,a=e.profile_path,s=e.character;return t=a?l.a.baseImgURL+a:l.a.defaultImgURL,Object(r.jsxs)("li",{children:[Object(r.jsx)("img",{src:t,alt:n,width:"200",height:"300"}),Object(r.jsx)("p",{className:"actorName",children:n}),Object(r.jsxs)("p",{className:"actorCharacter",children:["Character: ",s]})]},c)}))):g(Object(r.jsx)("p",{children:"There are no information about cast for this movie..."}))})),Object(j.b)(Object(j.a)(t,l.c.reviews)).then((function(e){var t=e.results;if(0!==t.length){L(t.map((function(e){var t=e.id,c=e.author_details,n=e.content,a=c.username,s=function(e){return e?"http"===e.slice(1,5)?e.slice(1,e.length):l.a.baseImgURL+e:l.a.defaultImgURL}(c.avatar_path);return Object(r.jsxs)("li",{children:[Object(r.jsx)("img",{src:s,alt:"",width:"50"}),Object(r.jsx)("span",{className:"userName",children:a}),Object(r.jsx)("p",{className:"reviewContent",children:n})]},t)})))}else L(Object(r.jsx)("p",{children:"There are no reviews for this movie..."}))}))}),[t]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:h.a.backBtn,type:"button",onClick:function(){return e.push("/")},children:"\ud83e\udc14 Go back"})}),Object(r.jsxs)("div",{className:h.a.movieContainer,children:[Object(r.jsx)("div",{className:h.a.imgContainer,children:Object(r.jsx)("img",{src:v.img,alt:v.title,width:"250"})}),Object(r.jsxs)("div",{className:h.a.aboutMovieContainer,children:[Object(r.jsx)("h1",{children:v.title}),Object(r.jsxs)("p",{className:h.a.userScore,children:["User score: ","".concat(v.userScore,"%")]}),Object(r.jsx)("h2",{children:"About"}),Object(r.jsx)("p",{className:h.a.about,children:v.overview}),Object(r.jsx)("h3",{children:"Genres"}),Object(r.jsx)("p",{className:h.a.genres,children:v.genresList}),Object(r.jsxs)("div",{className:h.a.info,children:[Object(r.jsx)("h4",{children:"Additional information"}),Object(r.jsxs)("ul",{className:h.a.infoLinks,children:[Object(r.jsx)("li",{children:Object(r.jsx)(i.c,{to:"".concat(c,"/cast"),children:"Cast"})}),Object(r.jsx)("li",{children:Object(r.jsx)(i.c,{to:"".concat(c,"/reviews"),children:"Reviews"})})]})]})]})]}),Object(r.jsx)("div",{className:h.a.movieInfoContainer,children:Object(r.jsxs)(s.c,{children:[Object(r.jsx)(s.a,{path:"".concat(c,"/cast"),children:Object(r.jsx)(o,{castList:x})}),Object(r.jsx)(s.a,{path:"".concat(c,"/reviews"),children:Object(r.jsx)(u,{reviewsList:_})})]})})]})}}}]);
//# sourceMappingURL=4.0e71aaeb.chunk.js.map